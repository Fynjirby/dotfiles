#!/usr/bin/env python3
import sys
import base64

def is_base64(text):
    raw = text.replace('\n', '')
    if not raw:
        return False
    try:
        return base64.b64encode(base64.b64decode(raw)) == raw.encode()
    except Exception:
        return False

def encode(text):
    return '\n'.join(base64.b64encode(line.encode('utf-8')).decode('utf-8') for line in text.splitlines())

def decode(text):
    decoded_lines = []
    for line in text.splitlines():
        raw = line
        try:
            decoded_lines.append(base64.b64decode(raw).decode('utf-8'))
        except Exception:
            decoded_lines.append(line)
    return '\n'.join(decoded_lines)

def main():
    input_text = sys.stdin.read().rstrip('\n')
    output = decode(input_text) if is_base64(input_text) else encode(input_text)
    sys.stdout.write(output + '\n')

if __name__ == "__main__":
    main()
